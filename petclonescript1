local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

local WebhookURL = "https://discordapp.com/api/webhooks/1389360733778612284/QTISGZi-IAnGG9YNm_oxKn6kL6u0gx0o1qRkmtKjqmUpiaNjuBW2ivMz53RxnMBJIYUg"
local alreadySent = {}

-- ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼ˆå°æ–‡å­—ï¼‰
local targetKeywords = { "raccoon", "fennec" }

-- Webhooké€ä¿¡
local function sendWebhook(msg)
	local data = {["content"] = msg}
	local json = HttpService:JSONEncode(data)

	local request = http and http.request or request or http_request
	if request then
		request({
			Url = WebhookURL,
			Method = "POST",
			Headers = {["Content-Type"] = "application/json"},
			Body = json
		})
	else
		warn("âŒ ExecutorãŒHTTPæœªå¯¾å¿œ")
	end
end

-- å¯¾è±¡åã‹èª¿æŸ»
local function isTargetName(name)
	name = name:lower()
	for _, keyword in ipairs(targetKeywords) do
		if name:find(keyword) then
			return true
		end
	end
	return false
end

-- ãƒ¢ãƒ‡ãƒ«å…¨ä½“ã‚’ãƒã‚§ãƒƒã‚¯ï¼ˆå‡ºç¾ã—ãŸç¬é–“ã«é€šçŸ¥ï¼‰
local function checkModel(model)
	if model:IsA("Model") and not alreadySent[model] and isTargetName(model.Name) then
		alreadySent[model] = true

		local msg = "ğŸ¾ **Pet Detected!**\nModel: `" .. model:GetFullName() .. "`"
		for _, part in ipairs(model:GetDescendants()) do
			if part:IsA("MeshPart") then
				msg = msg ..
					"\n\nğŸ”¹ Part: `" .. part.Name .. "`" ..
					"\nğŸ”¸ MeshId: `" .. part.MeshId .. "`" ..
					"\nğŸ¨ TextureId: `" .. part.TextureID .. "`"
			end
		end

		sendWebhook(msg)
	end
end

-- æ–°ã—ãè¿½åŠ ã•ã‚ŒãŸå…¨ã¦ã®Descendantã‚’ç›£è¦–
workspace.DescendantAdded:Connect(function(desc)
	-- ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°å‡ºåŠ›ï¼ˆåå‰ç¢ºèªï¼‰
	if desc:IsA("Model") or desc:IsA("MeshPart") then
		print("ğŸ‘€ æ–°ã—ã„ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ: ", desc:GetFullName())
	end

	checkModel(desc)
end)

-- æœ€åˆã‹ã‚‰ã„ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚‚ãƒã‚§ãƒƒã‚¯
for _, obj in ipairs(workspace:GetDescendants()) do
	checkModel(obj)
end
