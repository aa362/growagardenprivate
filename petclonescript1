local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- å¿…è¦ã«å¿œã˜ã¦Webhookã‚’ä½¿ã†ï¼ˆç©ºãªã‚‰ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã®ã¿ï¼‰
local WebhookURL = "https://discordapp.com/api/webhooks/1389360733778612284/QTISGZi-IAnGG9YNm_oxKn6kL6u0gx0o1qRkmtKjqmUpiaNjuBW2ivMz53RxnMBJIYUg"

-- Webhooké€ä¿¡é–¢æ•°
local function sendWebhook(msg)
	if WebhookURL == "" then
		warn("âŒ Webhook URL æœªè¨­å®š: ", msg)
		return
	end

	local data = {["content"] = msg}
	local json = HttpService:JSONEncode(data)

	local request = http and http.request or request or http_request
	if request then
		request({
			Url = WebhookURL,
			Method = "POST",
			Headers = {["Content-Type"] = "application/json"},
			Body = json
		})
		print("âœ… Webhooké€ä¿¡å®Œäº†")
	else
		warn("âŒ ExecutorãŒHTTPæœªå¯¾å¿œ")
	end
end

-- IDæŠ½å‡º
local function extractId(assetUrl)
	return assetUrl:match("rbxassetid://(%d+)")
end

-- ãƒ¡ã‚¤ãƒ³å‡¦ç†
local function extractFromTool()
	local tool = player.Character and player.Character:FindFirstChildOfClass("Tool")
	if not tool then
		warn("âŒ æ‰‹ã«ãƒ„ãƒ¼ãƒ«ã‚’æŒã£ã¦ã„ã¾ã›ã‚“")
		return
	end

	local handle = tool:FindFirstChild("Handle")
	if not handle then
		warn("âŒ HandleãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“")
		return
	end

	local msg = "ğŸ” **Tool Mesh Info**\nğŸ’ Tool: `" .. tool.Name .. "`"

	if handle:IsA("MeshPart") then
		local meshId = handle.MeshId or "ãªã—"
		local textureId = handle.TextureID or "ãªã—"
		local meshAssetId = extractId(meshId)
		local textureAssetId = extractId(textureId)

		msg = msg ..
			"\n\nğŸ§© Handle (MeshPart)" ..
			"\nğŸ”¸ MeshId: `" .. meshId .. "`" ..
			(meshAssetId and ("\nğŸ”— [Mesh URL](https://www.roblox.com/library/" .. meshAssetId .. ")") or "") ..
			"\nğŸ¨ TextureId: `" .. textureId .. "`" ..
			(textureAssetId and ("\nğŸ–¼ï¸ [Texture URL](https://www.roblox.com/library/" .. textureAssetId .. ")") or "")

	elseif handle:IsA("Part") then
		local mesh = handle:FindFirstChildOfClass("SpecialMesh")
		if mesh then
			local meshId = mesh.MeshId or "ãªã—"
			local textureId = mesh.TextureId or "ãªã—"
			local meshAssetId = extractId(meshId)
			local textureAssetId = extractId(textureId)

			msg = msg ..
				"\n\nğŸ§© Handle (SpecialMesh)" ..
				"\nğŸ”¸ MeshId: `" .. meshId .. "`" ..
				(meshAssetId and ("\nğŸ”— [Mesh URL](https://www.roblox.com/library/" .. meshAssetId .. ")") or "") ..
				"\nğŸ¨ TextureId: `" .. textureId .. "`" ..
				(textureAssetId and ("\nğŸ–¼ï¸ [Texture URL](https://www.roblox.com/library/" .. textureAssetId .. ")") or "")
		else
			msg = msg .. "\nâš ï¸ SpecialMesh ãŒå­˜åœ¨ã—ã¾ã›ã‚“"
		end
	else
		msg = msg .. "\nâš ï¸ HandleãŒMeshPartã¾ãŸã¯SpecialMeshä»˜ãPartã§ã¯ã‚ã‚Šã¾ã›ã‚“"
	end

	-- Discordé€šçŸ¥ or ãƒ­ãƒ¼ã‚«ãƒ«å‡ºåŠ›
	sendWebhook(msg)
	print(msg)
end

-- å®Ÿè¡Œ
extractFromTool()
