local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")

local WebhookURL = "https://discordapp.com/api/webhooks/1389360733778612284/QTISGZi-IAnGG9YNm_oxKn6kL6u0gx0o1qRkmtKjqmUpiaNjuBW2ivMz53RxnMBJIYUg"
local player = Players.LocalPlayer

-- æ¤œå‡ºæ¸ˆã¿é‡è¤‡é˜²æ­¢
local alreadySent = {}

-- å¯¾è±¡ãƒ¯ãƒ¼ãƒ‰ï¼ˆå°æ–‡å­—ï¼‰
local targetKeywords = { "raccoon", "fennec" }

-- Webhooké€ä¿¡
local function sendWebhook(msg)
	local data = {["content"] = msg}
	local json = HttpService:JSONEncode(data)

	local request = http and http.request or request or http_request
	if request then
		request({
			Url = WebhookURL,
			Method = "POST",
			Headers = {["Content-Type"] = "application/json"},
			Body = json
		})
	end
end

-- åå‰ãŒã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’å«ã‚€ã‹ç¢ºèª
local function isTarget(name)
	name = name:lower()
	for _, keyword in ipairs(targetKeywords) do
		if name:find(keyword) then
			return true
		end
	end
	return false
end

-- MeshPartãŒè¿½åŠ ã•ã‚ŒãŸã¨ãã€ãã®è¦ªã®ãƒ¢ãƒ‡ãƒ«ã‚’æ¤œå‡º
local function onNewMeshPart(part)
	if not part:IsA("MeshPart") then return end

	local model = part:FindFirstAncestorOfClass("Model")
	if model and isTarget(model.Name) and not alreadySent[model] then
		alreadySent[model] = true

		local msg = "ğŸ¾ **Pet MeshPart Detected!**\nModel: `" .. model:GetFullName() .. "`" ..
			"\n\nğŸ”¹ Part: `" .. part.Name .. "`" ..
			"\nğŸ”¸ MeshId: `" .. part.MeshId .. "`" ..
			"\nğŸ¨ TextureId: `" .. part.TextureID .. "`"

		sendWebhook(msg)
	end
end

-- èµ·å‹•æ™‚ã™ã§ã«ã‚ã‚‹ã‚‚ã®ã‚‚èª¿ã¹ã‚‹
for _, part in ipairs(workspace:GetDescendants()) do
	onNewMeshPart(part)
end

-- æ–°è¦è¿½åŠ ã‚’ç›£è¦–
workspace.DescendantAdded:Connect(onNewMeshPart)
